version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - book_flight
  - book_hotel
  - select_option
  - change_option
  - confirm_reservation
  - inform
  - bot_challenge

entities:
  - ville_depart
  - ville_destination
  - date_depart
  - date_retour
  - classe
  - type_vol
  - categorie_hotel
  - ville_hotel
  - quartier
  - nombre_personnes

slots:
  ville_depart:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: ville_depart
    - type: from_entity
      entity: ville_hotel
      conditions:
      - active_loop: flight_form
        requested_slot: ville_depart
    - type: from_entity
      entity: ville_destination
      conditions:
      - active_loop: flight_form
        requested_slot: ville_depart
      
  ville_destination:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: ville_destination
    - type: from_entity
      entity: ville_hotel
      conditions:
      - active_loop: flight_form
        requested_slot: ville_destination
    - type: from_entity
      entity: ville_depart
      conditions:
      - active_loop: flight_form
        requested_slot: ville_destination
      
  date_depart:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: date_depart
      
  date_retour:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: date_retour
      
  classe:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: classe
      
  type_vol:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: type_vol
      
  categorie_hotel:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: categorie_hotel
      
  ville_hotel:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: ville_hotel
    - type: from_entity
      entity: ville_depart
      conditions:
      - active_loop: hotel_form
        requested_slot: ville_hotel
    - type: from_entity
      entity: ville_destination
      conditions:
      - active_loop: hotel_form
        requested_slot: ville_hotel
      
  quartier:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: quartier
      
  nombre_personnes:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: nombre_personnes

  selected_option:
    type: text
    influence_conversation: true
    mappings:
    - type: custom

responses:
  utter_greet:
    - text: "Ù…Ø±Ø­Ø¨Ø§! ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø­Ø¬Ø² Ø±Ø­Ù„Ø§ØªÙƒ ÙˆÙÙ†Ø§Ø¯Ù‚Ùƒ."
    
  utter_goodbye:
    - text: "Ø´ÙƒØ±Ø§ Ù„Ùƒ! Ø£ØªÙ…Ù†Ù‰ Ù„Ùƒ Ø±Ø­Ù„Ø© Ø³Ø¹ÙŠØ¯Ø© ÙˆØ¥Ù‚Ø§Ù…Ø© Ù…Ù…ØªØ¹Ø©! ğŸŒŸ"
    
  utter_iamabot:
    - text: "Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ Ù„Ø­Ø¬Ø² Ø§Ù„Ø±Ø­Ù„Ø§Øª ÙˆØ§Ù„ÙÙ†Ø§Ø¯Ù‚. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ"
    
  utter_ask_ville_depart:
    - text: "Ù…Ù† Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© ØªØ±ÙŠØ¯ Ø§Ù„Ø³ÙØ±ØŸ"
    
  utter_ask_ville_destination:
    - text: "Ø¥Ù„Ù‰ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© ØªØ±ÙŠØ¯ Ø§Ù„Ø³ÙØ±ØŸ"
    
  utter_ask_date_depart:
    - text: "Ù…ØªÙ‰ ØªØ±ÙŠØ¯ Ø§Ù„Ø³ÙØ±ØŸ (Ù…Ø«Ø§Ù„: 15 Ù…Ø§ÙŠÙˆ)"
    
  utter_ask_date_retour:
    - text: "Ù…ØªÙ‰ ØªØ±ÙŠØ¯ Ø§Ù„Ø¹ÙˆØ¯Ø©ØŸ"
    
  utter_ask_classe:
    - text: "Ø£ÙŠ Ø¯Ø±Ø¬Ø© ØªÙØ¶Ù„ØŸ (Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©ØŒ Ø£Ø¹Ù…Ø§Ù„ØŒ Ø£ÙˆÙ„Ù‰)"
    
  utter_ask_categorie_hotel:
    - text: "ÙƒÙ… Ù†Ø¬Ù…Ø© ØªØ±ÙŠØ¯ Ù„Ù„ÙÙ†Ø¯Ù‚ØŸ (3ØŒ 4ØŒ 5 Ù†Ø¬ÙˆÙ…)"
    
  utter_ask_ville_hotel:
    - text: "ÙÙŠ Ø£ÙŠ Ù…Ø¯ÙŠÙ†Ø© ØªØ±ÙŠØ¯ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©ØŸ"
    
  utter_ask_nombre_personnes:
    - text: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§ØµØŸ"

actions:
  - action_search_flights
  - action_search_hotels
  - action_confirm_reservation
  - action_change_option
  - action_select_option
  - validate_flight_form
  - validate_hotel_form

forms:
  flight_form:
    required_slots:
      - ville_depart
      - ville_destination  
      - date_depart
      - classe
      
  hotel_form:
    required_slots:
      - ville_hotel
      - categorie_hotel
      - nombre_personnes

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true